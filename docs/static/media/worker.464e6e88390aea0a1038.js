import _regeneratorRuntime from"/home/koby/git/kobyhallx/noir-cra/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js";import _asyncToGenerator from"/home/koby/git/kobyhallx/noir-cra/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js";var wasm;import"../buffer.js";import{Subject,Observable}from"threads/observable";import{expose,Transfer}from"threads/worker";import{BarretenbergWasm}from".";var subject=new Subject;expose({init:function(e,r){return _asyncToGenerator(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(wasm=new BarretenbergWasm).on("log",(function(e){return subject.next(e)})),n.next=3,wasm.init(e,r);case 3:case"end":return n.stop()}}),n)})))()},transferToHeap:function(e,r){return _asyncToGenerator(_regeneratorRuntime().mark((function n(){return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:wasm.transferToHeap(e,r);case 1:case"end":return n.stop()}}),n)})))()},sliceMemory:function(e,r){return _asyncToGenerator(_regeneratorRuntime().mark((function n(){var t;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=wasm.sliceMemory(e,r),n.abrupt("return",Transfer(t,[t.buffer]));case 2:case"end":return n.stop()}}),n)})))()},call:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var n,t,a,o,u=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=u[o];return e.abrupt("return",(n=wasm).call.apply(n,[r].concat(a)));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),memSize:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wasm.memSize());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logs:function(){return Observable.from(subject)},acquire:function(){return _asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wasm.acquire();case 2:case"end":return e.stop()}}),e)})))()},release:function(){return _asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wasm.release();case 1:case"end":return e.stop()}}),e)})))()}});